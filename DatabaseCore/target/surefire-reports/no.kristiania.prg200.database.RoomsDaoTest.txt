-------------------------------------------------------------------------------
Test set: no.kristiania.prg200.database.RoomsDaoTest
-------------------------------------------------------------------------------
Tests run: 3, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 1.075 sec <<< FAILURE!
shouldFindSavedRooms(no.kristiania.prg200.database.RoomsDaoTest)  Time elapsed: 0.017 sec  <<< ERROR!
org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: 
Migration V006__create_table_tracks.sql failed
----------------------------------------------
SQL State  : 42001
Error Code : 42001
Message    : Syntax error in SQL statement "CREATE TABLE IF NOT EXISTS TRACKS (
    TRACKS_ID SERIAL PRIMARY KEY,
    TRACKS_TRACKS VARCHAR NOT NULL,
    TALKS_ID INTEGER NOT NULL,
    DAYS_ID INTEGER NOT NULL,
    TIMESLOTS_ID INTEGER NOT NULL,
    ROOMS_ID INTEGER NOT NULL
     FOREIGN[*] KEY (TALKS_ID) REFERENCES TALKS(TALKS_ID)
                                                 
                                                           
                                                   
    ) "; expected "AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table if not exists tracks (
    tracks_id serial primary key,
    tracks_tracks varchar not null,
    talks_id integer not null,
    days_id integer not null,
    timeslots_id integer not null,
    rooms_id integer not null
     FOREIGN KEY (talks_id) REFERENCES talks(talks_id)
--     FOREIGN KEY (days_id) REFERENCES days(id),
--     FOREIGN KEY (timeslots_id) REFERENCES timeslots(id),
--     FOREIGN KEY (rooms_id) REFERENCES rooms(id);
    ) [42001-197]
Location   : db/migration/V006__create_table_tracks.sql (/Users/linenathalieronning/Desktop/AvansertJavaMappe/--EKSAMEN--JAVA--/pgr200-eksamen-LegoLine/DatabaseCore/target/classes/db/migration/V006__create_table_tracks.sql)
Line       : 1
Statement  : create table if not exists tracks (
    tracks_id serial primary key,
    tracks_tracks varchar not null,
    talks_id integer not null,
    days_id integer not null,
    timeslots_id integer not null,
    rooms_id integer not null
     FOREIGN KEY (talks_id) REFERENCES talks(talks_id)
--     FOREIGN KEY (days_id) REFERENCES days(id),
--     FOREIGN KEY (timeslots_id) REFERENCES timeslots(id),
--     FOREIGN KEY (rooms_id) REFERENCES rooms(id);
    )

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:370)
	at org.flywaydb.core.internal.command.DbMigrate.access$200(DbMigrate.java:54)
	at org.flywaydb.core.internal.command.DbMigrate$3.call(DbMigrate.java:284)
	at org.flywaydb.core.internal.jdbc.TransactionTemplate.execute(TransactionTemplate.java:74)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:281)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:246)
	at org.flywaydb.core.internal.command.DbMigrate.access$100(DbMigrate.java:54)
	at org.flywaydb.core.internal.command.DbMigrate$2.call(DbMigrate.java:164)
	at org.flywaydb.core.internal.command.DbMigrate$2.call(DbMigrate.java:161)
	at org.flywaydb.core.internal.database.base.Connection$1.call(Connection.java:147)
	at org.flywaydb.core.internal.jdbc.TransactionTemplate.execute(TransactionTemplate.java:74)
	at org.flywaydb.core.internal.database.base.Connection.lock(Connection.java:143)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:155)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:161)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:139)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1288)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1249)
	at org.flywaydb.core.Flyway.execute(Flyway.java:1604)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:1249)
	at no.kristiania.prg200.database.TestDataSource.createDataSource(TestDataSource.java:18)
	at no.kristiania.prg200.database.RoomsDaoTest.<init>(RoomsDaoTest.java:13)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:488)
	at org.junit.runners.BlockJUnit4ClassRunner.createTest(BlockJUnit4ClassRunner.java:217)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: 
Migration V006__create_table_tracks.sql failed
----------------------------------------------
SQL State  : 42001
Error Code : 42001
Message    : Syntax error in SQL statement "CREATE TABLE IF NOT EXISTS TRACKS (
    TRACKS_ID SERIAL PRIMARY KEY,
    TRACKS_TRACKS VARCHAR NOT NULL,
    TALKS_ID INTEGER NOT NULL,
    DAYS_ID INTEGER NOT NULL,
    TIMESLOTS_ID INTEGER NOT NULL,
    ROOMS_ID INTEGER NOT NULL
     FOREIGN[*] KEY (TALKS_ID) REFERENCES TALKS(TALKS_ID)
                                                 
                                                           
                                                   
    ) "; expected "AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table if not exists tracks (
    tracks_id serial primary key,
    tracks_tracks varchar not null,
    talks_id integer not null,
    days_id integer not null,
    timeslots_id integer not null,
    rooms_id integer not null
     FOREIGN KEY (talks_id) REFERENCES talks(talks_id)
--     FOREIGN KEY (days_id) REFERENCES days(id),
--     FOREIGN KEY (timeslots_id) REFERENCES timeslots(id),
--     FOREIGN KEY (rooms_id) REFERENCES rooms(id);
    ) [42001-197]
Location   : db/migration/V006__create_table_tracks.sql (/Users/linenathalieronning/Desktop/AvansertJavaMappe/--EKSAMEN--JAVA--/pgr200-eksamen-LegoLine/DatabaseCore/target/classes/db/migration/V006__create_table_tracks.sql)
Line       : 1
Statement  : create table if not exists tracks (
    tracks_id serial primary key,
    tracks_tracks varchar not null,
    talks_id integer not null,
    days_id integer not null,
    timeslots_id integer not null,
    rooms_id integer not null
     FOREIGN KEY (talks_id) REFERENCES talks(talks_id)
--     FOREIGN KEY (days_id) REFERENCES days(id),
--     FOREIGN KEY (timeslots_id) REFERENCES timeslots(id),
--     FOREIGN KEY (rooms_id) REFERENCES rooms(id);
    )

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:249)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:202)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:125)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:77)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:367)
	... 48 more
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE IF NOT EXISTS TRACKS (
    TRACKS_ID SERIAL PRIMARY KEY,
    TRACKS_TRACKS VARCHAR NOT NULL,
    TALKS_ID INTEGER NOT NULL,
    DAYS_ID INTEGER NOT NULL,
    TIMESLOTS_ID INTEGER NOT NULL,
    ROOMS_ID INTEGER NOT NULL
     FOREIGN[*] KEY (TALKS_ID) REFERENCES TALKS(TALKS_ID)
                                                 
                                                           
                                                   
    ) "; expected "AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table if not exists tracks (
    tracks_id serial primary key,
    tracks_tracks varchar not null,
    talks_id integer not null,
    days_id integer not null,
    timeslots_id integer not null,
    rooms_id integer not null
     FOREIGN KEY (talks_id) REFERENCES talks(talks_id)
--     FOREIGN KEY (days_id) REFERENCES days(id),
--     FOREIGN KEY (timeslots_id) REFERENCES timeslots(id),
--     FOREIGN KEY (rooms_id) REFERENCES rooms(id);
    ) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.getSyntaxError(DbException.java:217)
	at org.h2.command.Parser.getSyntaxError(Parser.java:555)
	at org.h2.command.Parser.read(Parser.java:3518)
	at org.h2.command.Parser.readIfMore(Parser.java:950)
	at org.h2.command.Parser.parseCreateTable(Parser.java:6571)
	at org.h2.command.Parser.parseCreate(Parser.java:4615)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:311)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:235)
	at org.flywaydb.core.internal.sqlscript.StandardSqlStatement.execute(StandardSqlStatement.java:42)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:189)
	... 51 more

shouldCreateRooms(no.kristiania.prg200.database.RoomsDaoTest)  Time elapsed: 0.001 sec  <<< ERROR!
org.flywaydb.core.api.FlywayException: Validate failed: Detected failed migration to version 006 (create table tracks)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:1375)
	at org.flywaydb.core.Flyway.access$100(Flyway.java:82)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1257)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1249)
	at org.flywaydb.core.Flyway.execute(Flyway.java:1604)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:1249)
	at no.kristiania.prg200.database.TestDataSource.createDataSource(TestDataSource.java:18)
	at no.kristiania.prg200.database.RoomsDaoTest.<init>(RoomsDaoTest.java:13)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:488)
	at org.junit.runners.BlockJUnit4ClassRunner.createTest(BlockJUnit4ClassRunner.java:217)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)

shouldRetrieveRoomsById(no.kristiania.prg200.database.RoomsDaoTest)  Time elapsed: 0.001 sec  <<< ERROR!
org.flywaydb.core.api.FlywayException: Validate failed: Detected failed migration to version 006 (create table tracks)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:1375)
	at org.flywaydb.core.Flyway.access$100(Flyway.java:82)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1257)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1249)
	at org.flywaydb.core.Flyway.execute(Flyway.java:1604)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:1249)
	at no.kristiania.prg200.database.TestDataSource.createDataSource(TestDataSource.java:18)
	at no.kristiania.prg200.database.RoomsDaoTest.<init>(RoomsDaoTest.java:13)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:488)
	at org.junit.runners.BlockJUnit4ClassRunner.createTest(BlockJUnit4ClassRunner.java:217)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)

